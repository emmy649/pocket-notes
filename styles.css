*{box-sizing:border-box}html,body{height:100%}
:root{--header-h:56px;--footer-h:56px;--dvh:100vh;
  --yellow:#fff8c6; --pink:#ffe6ee; --mint:#e9fff4; --blue:#e8f3ff; --lilac:#f3ecff;
  --peach:#ffefdf; --sage:#edf8f0; --sun:#fdf3c4; --rose:#ffeaea; --sky:#e4f5ff;}
@supports (height: 100svh) { :root{ --dvh:100svh } }

body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:#f6f5f2;color:#111;
  padding-bottom:calc(var(--footer-h) + env(safe-area-inset-bottom)); overscroll-behavior:contain; -webkit-text-size-adjust:100%; text-size-adjust:100%; touch-action:manipulation;}
.app-bar{position:sticky;top:0;z-index:10;background:rgba(20,184,166,.88);backdrop-filter:saturate(1.2) blur(6px);
  color:#fff;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;border-bottom-left-radius:18px;border-bottom-right-radius:18px;
  box-shadow:0 8px 22px rgba(20,184,166,.22)}
h1{font-size:18px;margin:0;font-weight:700;letter-spacing:.3px}
.container{max-width:980px;margin:16px auto;padding:0 12px;min-height:calc(var(--dvh) - var(--header-h) - var(--footer-h) - 32px);}
.toolbar{display:flex;justify-content:flex-end;margin:8px 0}
.btn{background:#111;color:#fff;border:none;border-radius:12px;padding:10px 14px;font-weight:600;cursor:pointer}
.btn:hover{opacity:.95}.btn:active{transform:translateY(1px)}
.btn.small{padding:6px 10px;font-size:14px}
.btn.big{padding:10px 16px;border:1px solid #e5e7eb;background:#fff;color:#111}
.btn.ghost{background:#fff;color:#111;border:1px solid #e5e7eb}

.composer{background:#fffef9;border-radius:18px;padding:14px;border:1px dashed #eadfc2;
  box-shadow:0 10px 25px rgba(0,0,0,.05), inset 0 1px 0 rgba(255,255,255,.7);margin-top:10px}
.composer.hidden{display:none}
.input,.textarea{width:100%;padding:10px 12px;border:1px solid #ececec;border-radius:12px;margin:6px 0;background:#fff; font-size:16px;}
.input:focus,.textarea:focus{outline:none;border-color:#eab308;background:#fff}
.row{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}

.section-title{font-size:16px;margin:16px 4px;font-weight:700;color:#374151}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;padding:6px}

/* Sticky note cards */
.card{position:relative;border-radius:10px;padding:16px 12px 14px 12px;
  border:1px solid rgba(0,0,0,.05);
  background:var(--note-bg);
  box-shadow: 0 16px 22px -14px rgba(0,0,0,.22), inset 0 1px 0 rgba(255,255,255,.6);
  transform:rotate(var(--note-rot, 0deg));
  transform-origin: 50% -20px;
}
.card:before{content:''; position:absolute; left:50%; top:-8px; transform:translateX(-50%);
  width:18px; height:18px; background:radial-gradient(circle at 30% 30%, #fff, #bbb);
  border-radius:50%; box-shadow:0 6px 10px rgba(0,0,0,.25)}
.card:after{content:''; position:absolute; left:50%; top:8px; transform:translateX(-50%);
  width:2px; height:14px; background:rgba(0,0,0,.1); border-radius:2px}

.card .grain{pointer-events:none; position:absolute; inset:0; border-radius:10px;
  background-image: radial-gradient(rgba(255,255,255,.5), transparent 40%), linear-gradient(transparent 96%, rgba(255,255,255,.6) 100%)}
.card .dogear{position:absolute; right:0; top:0; width:24px; height:24px; background:linear-gradient(135deg, rgba(0,0,0,.06), rgba(255,255,255,.7));
  clip-path: polygon(0 0, 100% 0, 100% 100%); opacity:.35; border-top-right-radius:10px}

.card h3{font-size:16px;margin:0 0 4px 0;font-weight:700;letter-spacing:.2px}
.card p{margin:0;color:#111;white-space:pre-wrap;line-height:1.25}
.card .meta{font-size:12px;color:rgba(17,24,39,.7);margin:4px 0 8px 0}
.card .row{justify-content:flex-end;margin-top:8px}

.icon-btn{background:transparent;border:none;padding:4px 6px;line-height:1;border-radius:8px;cursor:pointer;font-size:16px;color:#333}
.icon-btn:hover{background:rgba(0,0,0,.05)}

.note-yellow{--note-bg:var(--yellow)}
.note-pink{--note-bg:var(--pink)}
.note-mint{--note-bg:var(--mint)}
.note-blue{--note-bg:var(--blue)}
.note-lilac{--note-bg:var(--lilac)}
.note-peach{--note-bg:var(--peach)}
.note-sage{--note-bg:var(--sage)}
.note-sun{--note-bg:var(--sun)}
.note-rose{--note-bg:var(--rose)}
.note-sky{--note-bg:var(--sky)}

.card:nth-child(5n+1){transform:rotate(calc(var(--note-rot, 0deg) + .6deg))}
.card:nth-child(5n+2){transform:rotate(calc(var(--note-rot, 0deg) - .4deg))}
.card:nth-child(5n+3){transform:rotate(calc(var(--note-rot, 0deg) + .9deg))}
.card:nth-child(5n+4){transform:rotate(calc(var(--note-rot, 0deg) - .7deg))}

.foot{position:fixed;left:0;right:0;bottom:0;z-index:5;
  margin:0;padding:14px calc(12px + env(safe-area-inset-right)) 14px calc(12px + env(safe-area-inset-left));text-align:center;
  color:#4b5563;background:rgba(255,255,255,.80);
  backdrop-filter:saturate(1.1) blur(6px);
  border-top-left-radius:18px;border-top-right-radius:18px;border:1px solid rgba(0,0,0,.04);
  font-style:italic; height:var(--footer-h); display:flex; align-items:center; justify-content:center}
